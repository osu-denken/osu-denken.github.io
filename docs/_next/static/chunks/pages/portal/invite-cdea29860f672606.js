(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[250],{1015:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var o=n(7876),i=n(3646),a=n.n(i),r=n(9455),l=n.n(r),s=n(4232),c=n(3617);let d=()=>((0,s.useEffect)(()=>{if(!localStorage.getItem("idToken")){let e=encodeURIComponent("portal/invite/");window.location.href="/?i="+e+"#login"}},[]),(0,o.jsx)("div",{className:a().container,children:(0,o.jsxs)("main",{className:a().main,children:[(0,o.jsx)("h1",{children:"招待コードの作成"}),(0,o.jsxs)("p",{className:a().description,children:["ユーザーを新たに作成するための1回限りの24時間以内に有効な招待コードを作成することができます。",(0,o.jsx)("br",{}),"Webシステムのユーザーを持っていない部員にURLを共有してユーザーを作成します。",(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),"コードは一度使用されると無効となります。",(0,o.jsx)("br",{})]}),(0,o.jsx)("code",{id:"invite-url",style:{display:"none",fontSize:15,padding:9,width:450}}),(0,o.jsx)("button",{className:l().portal,style:{display:"none",marginLeft:"4px"},id:"invite-copy-button",onClick:e=>{let t=document.getElementById("invite-url").textContent||"";navigator.clipboard.writeText(t).then(()=>{alert("招待リンクをクリップボードにコピーしました。")})},children:"コピー"}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("canvas",{id:"invite-qrcode",style:{display:"none"}}),(0,o.jsx)("br",{}),(0,o.jsx)("button",{onClick:e=>{e.preventDefault(),fetch("https://api.osudenken4dev.workers.dev/invite/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("idToken"))}}).then(e=>e.json()).then(e=>{if(e.success){let t="https://osu-denken.github.io/_register/?code="+e.code,n=document.getElementById("invite-url"),o=document.getElementById("invite-qrcode");n.style.display="inline",n.textContent=t,o.style.display="block",c.toCanvas(o,t,function(e){e?console.error(e):console.log("QR code generated!")}),document.getElementById("invite-copy-button").style.display="inline"}else alert("招待リンクの作成に失敗しました。")}).catch(e=>{console.error("Error:",e),alert("招待リンクの作成中にエラーが発生しました。")})},className:l().portal,children:"招待コードを作成する"})]})}))},3646:e=>{e.exports={container:"Page_container__4TqKj",main:"Page_main__MOW5Q",bold:"Page_bold__FOjUO",code:"Page_code__gdauj",grid:"Page_grid__YvlVv",card:"Page_card__qrbpT",description:"Page_description__F5wod",title:"Page_title__XbhM_"}},8733:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/portal/invite",function(){return n(1015)}])},9455:e=>{e.exports={tabContainer:"Portal_tabContainer__VrhzM",tabButton:"Portal_tabButton__GgWUH",active:"Portal_active__zVMzA",tabContent:"Portal_tabContent__j21tP",portal:"Portal_portal__UHmCy",inputGroup:"Portal_inputGroup__kOtrD",notice:"Portal_notice__fvfef",grid:"Portal_grid__MBxHh",card:"Portal_card__QB5cC"}}},e=>{e.O(0,[617,636,593,792],()=>e(e.s=8733)),_N_E=e.O()}]);